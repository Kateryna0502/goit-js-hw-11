{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImages(query) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '44428976-d6e941eddcd51cc03234da6bf',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  console.log(url);\n  return fetch(url)\n    .then(data => data.json())\n    .catch(err => {});\n}\n\n\n\n//Ваш ключ API:44428976-d6e941eddcd51cc03234da6bf!===============================================================\n\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function displayImages(images) {\n    const gallery = document.getElementById('gallery');\n    gallery.innerHTML = images.map(image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"info\">\n                <p><strong>Likes:</strong> ${image.likes}</p>\n                <p><strong>Views:</strong> ${image.views}</p>\n                <p><strong>Comments:</strong> ${image.comments}</p>\n                <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n        </li>\n    `).join('');\n\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250\n        });\n    }\n}\n","// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import { searchImages } from './js/pixabay-api';\n// import { displayImages } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { displayImages } from './js/render-functions';\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.getElementById('loader');\n\nlet query;\nsearchForm.addEventListener('submit', event => {\n    event.preventDefault();\n    loader.style.display = 'block';\n    let query = searchInput.value.trim();\n    if (query === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Search query cannot be empty!'\n        });\n        return;\n    }\n})\n// loader.style.display = 'block';\n\nsearchImages(query).then((data) => {\n    if (data.hits.length === 0) {\n        iziToast.error({\n            title: 'Sorry',\n            message: 'There are no images matching your search query. Please try again!'\n        });\n    } else {\n        displayImages(images);\n    }\n}).catch((error) => {\n    iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.'\n    })\n}).finally(() => {\n    loader.style.display = 'none';\n    refs.searchForm.reset();\n})\n\n\n\n\n//         const images = searchImages(query);\n//         if (images.length === 0) {\n//             images.then(data => displayImages(data.hits));\n//             iziToast.error({\n//                 title: 'Sorry',\n//                 message: 'There are no images matching your search query. Please try again!'\n//             });\n//         } else {\n//             displayImages(images);\n//         }\n//     } images.catch(err => {\n//         iziToast.error({\n//             title: 'Error',\n//             message: 'Failed to fetch images. Please try again later.'\n//         });\n//     };\n//         images.finally {\n//             loader.style.display = 'none';\n//         }\n//     });\n// });\n\n\n\n\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//     const searchForm = document.getElementById('search-form');\n//     const searchInput = document.getElementById('search-input');\n//     const loader = document.getElementById('loader');\n\n//     searchForm.addEventListener('submit', event => {\n//         event.preventDefault();\n//         const query = searchInput.value.trim();\n\n//         if (query === '') {\n//             iziToast.error({\n//                 title: 'Error',\n//                 message: 'Search query cannot be empty!'\n//             });\n//             return;\n//         }\n//     })\n\n//     loader.style.display = 'block';\n// try {\n//     searchImages(query).then((data) => \n//     if (data.hits.length === 0) {\n//         iziToast.error({\n//             title: 'Sorry',\n//             message: 'There are no images matching your search query. Please try again!'\n//         });\n//     } else {\n//         displayImages(images);\n//     }).catch((error) => {\n//         iziToast.error({\n//             title: 'Error',\n//             message: 'Failed to fetch images. Please try again later.'\n//         })\n//     }).finally(() => {\n//         loader.style.display = 'none';\n//         refs.searchForm.reset();\n//     })\n// )\n\n    \n    \n//         const images = searchImages(query);\n//         if (images.length === 0) {\n//             images.then(data => displayImages(data.hits));\n//             iziToast.error({\n//                 title: 'Sorry',\n//                 message: 'There are no images matching your search query. Please try again!'\n//             });\n//         } else {\n//             displayImages(images);\n//         }\n//     } images.catch(err => {\n//         iziToast.error({\n//             title: 'Error',\n//             message: 'Failed to fetch images. Please try again later.'\n//         });\n//     }; \n//         images.finally {\n//             loader.style.display = 'none'; \n//         }\n//     });\n// });\n\n\n\n"],"names":["searchImages","query","BASE_URL","END_POINT","params","url","data","err","lightbox","displayImages","images","gallery","image","SimpleLightbox","searchForm","searchInput","loader","event","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAO,CAClC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,eAAQ,IAAIC,CAAG,EACR,MAAMA,CAAG,EACb,KAAKC,GAAQA,EAAK,MAAM,EACxB,MAAMC,GAAO,CAAA,CAAE,CACpB,CCVA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAAS;AAAA;AAAA,uBAErBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6CAGrBA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG3D,EAAE,KAAK,EAAE,EAENJ,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,CAET,CCtBA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/C,IAAIf,EACJa,EAAW,iBAAiB,SAAUG,GAAS,CAI3C,GAHAA,EAAM,eAAc,EACpBD,EAAO,MAAM,QAAU,QACXD,EAAY,MAAM,KAAI,IACpB,GAAI,CACdG,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACrB,CAAS,EACD,MACH,CACL,CAAC,EAGDlB,EAAaC,CAAK,EAAE,KAAMK,GAAS,CAC3BA,EAAK,KAAK,SAAW,EACrBY,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mEACrB,CAAS,EAEDT,EAAc,MAAM,CAE5B,CAAC,EAAE,MAAOU,GAAU,CAChBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACjB,CAAK,CACL,CAAC,EAAE,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,OACvB,KAAK,WAAW,OACpB,CAAC"}